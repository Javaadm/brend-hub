(window.webpackJsonp=window.webpackJsonp||[]).push([[9,31,105],{311:function(t,e,r){"use strict";r.r(e);r(10);var n,o,c,l=r(5),f=r(8),m=r(6),d=r(7),h=r(4),v=r(0),y=r(1),O=r(123);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}!function(t){t.White="white",t.Black="black",t.black_storage="black_storage",t.white_storage="white_storage"}(n||(n={})),function(t){t.Sm="Sm"}(o||(o={})),function(t){t.RESET_MARGINS="reset-margins"}(c||(c={}));var w=function(t){Object(m.a)(r,t);var e=j(r);function r(){return Object(l.a)(this,r),e.apply(this,arguments)}return Object(f.a)(r,[{key:"classes",get:function(){return{root:{"typography break-word":!0,typography_theme_white:this.theme===n.White,typography_theme_black:this.theme===n.Black,typography_theme_black_storage:this.theme===n.black_storage,typography_theme_white_storage:this.theme===n.white_storage,typography_size_sm:this.size===o.Sm,"typography_view_reset-margins":this.view===c.RESET_MARGINS,"typography-gapless-last-child":this.gaplessLastChild}}}}]),r}(y.Vue);Object(v.c)([Object(y.Prop)({type:String,required:!1})],w.prototype,"content",void 0),Object(v.c)([Object(y.Prop)({type:String,required:!1})],w.prototype,"theme",void 0),Object(v.c)([Object(y.Prop)({type:String,required:!1})],w.prototype,"size",void 0),Object(v.c)([Object(y.Prop)({type:String,required:!1})],w.prototype,"view",void 0),Object(v.c)([Object(y.Prop)({type:Boolean,required:!1,default:!1})],w.prototype,"gaplessLastChild",void 0);var x=w=Object(v.c)([Object(y.Component)({components:{Typograf:O.default}})],w),k=r(9),component=Object(k.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.classes.root},[t._t("default",[r("Typograf",{attrs:{html:t.content}})])],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Typograf:r(123).default})},343:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));r(76),r(127);function n(t){return t&&t.replace(/(\d)(\d{3})(\d{3})(\d{2})(\d{2})$/,"$1 ($2) $3-$4-$5")}function o(t){return t.startsWith("+")?t:"+".concat(t)}},347:function(t,e,r){"use strict";r.r(e);r(10);var n,o=r(26),c=r(5),l=r(8),f=r(6),m=r(7),d=r(4),h=(r(36),r(37),r(32),r(47),r(31),r(48),r(0)),v=r(1),y=r(312),O=r(59),j=r(124),w=r(20),x=r(125),k=r(123),_=r(374),F=r.n(_),P=r(311),S=r(103),T=r(353),B=r(324),E=r(313),C=r(354);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(m.a)(this,r)}}!function(t){t.default="default",t["red-shape"]="red-shape",t.simple="simple"}(n||(n={}));var D=function(t){Object(f.a)(r,t);var e=R(r);function r(){var t;return Object(c.a)(this,r),(t=e.apply(this,arguments)).form={isGetFormPending:!1,isSubmitFormPending:!1,data:null,getFormError:!1,submitFormError:!1},t.formData={},t.formErrors={},t}return Object(l.a)(r,[{key:"formTitle",get:function(){var t;return(null===(t=this.form.data)||void 0===t?void 0:t.title)||this.title||"Поможем и подскажем!"}},{key:"formDescription",get:function(){var t;return(null===(t=this.form.data)||void 0===t?void 0:t.description)||this.description||"Если у вас остались вопросы, оставьте свои контакты и мы свяжемся с вами."}},{key:"formAgreementText",get:function(){var t;return(null===(t=this.callbackFormAgreementText)||void 0===t?void 0:t.title)||"Нажимая на кнопку, вы соглашаетесь на обработку персональных данных"}},{key:"submitButtonTitle",get:function(){var t;return(null===(t=this.form.data)||void 0===t?void 0:t.buttonText)||"Отправить"}},{key:"hasFormErrors",get:function(){return Object.keys(this.formErrors).length>0}},{key:"inputFieldSize",get:function(){return"default"===this.view?"md":"sm"}},{key:"inputFieldTheme",get:function(){return"default"===this.view?"light":"light-red"}},{key:"fetchCallBackForm",value:function(){return Object(h.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.form.isGetFormPending=!0,t.t0=this.formInfo,t.t0){t.next=7;break}return t.next=6,T.a.fetchForm(this.formId);case 6:t.t0=t.sent;case 7:this.form.data=t.t0,t.next=14;break;case 10:t.prev=10,t.t1=t.catch(0),console.log("fetchCallBackForm error",t.t1),this.form.getFormError=!0;case 14:return t.prev=14,this.form.isGetFormPending=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[0,10,14,17]])})))}},{key:"submitCallBackForm",value:function(){return Object(h.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.form.isSubmitFormPending){t.next=2;break}return t.abrupt("return");case 2:if(this.formErrors={},this.validateForm(),this.setFormErrors(),!this.hasFormErrors){t.next=7;break}return t.abrupt("return");case 7:return t.prev=7,this.form.isSubmitFormPending=!0,t.next=11,T.a.submitForm(this.formId,this.formData);case 11:return e=t.sent,this.formData={},this.withReachGoal&&Object(S.a)({dataLayer:["universal event",{event_param:"form-callback-success"}]}),"order"===this.formId&&this.emitFormIsSubmitted(),t.next=17,this.$layer.alert({title:(null==e?void 0:e.message)||"Успешно!"});case 17:t.next=24;break;case 19:t.prev=19,t.t0=t.catch(7),console.log("submitCallBackForm error",t.t0),this.form.submitFormError=!0,Object(E.a)(t.t0,this.formErrors);case 24:return t.prev=24,this.form.isSubmitFormPending=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,this,[[7,19,24,27]])})))}},{key:"defineInputFieldType",value:function(t){return"email"===t.validationType.code?"email":t.type.code}},{key:"setFormErrors",value:function(){if(this.form.data&&this.form.data.fields.length>0)for(var i=0;i<this.form.data.fields.length;i+=1){var t=this.form.data.fields[i];t.required&&!this.formData[t.name]&&(this.formErrors=Object.assign(Object.assign({},this.formErrors),Object(o.a)({},t.name,"Значение не должно быть пустым")))}}},{key:"emitFormIsSubmitted",value:function(){}},{key:"onFocus",value:function(t,e){this.autofillUserDataFields(t,e)}}]),r}(Object(v.mixins)(Object(B.a)("formData","formErrors",{}),Object(C.a)("formData")));Object(h.c)([Object(v.Prop)({type:String,required:!1})],D.prototype,"title",void 0),Object(h.c)([Object(v.Prop)({type:String,required:!1})],D.prototype,"description",void 0),Object(h.c)([Object(v.Prop)({type:String,required:!1,default:n.default})],D.prototype,"view",void 0),Object(h.c)([Object(v.Prop)({type:String,required:!1,default:"callback"})],D.prototype,"formId",void 0),Object(h.c)([Object(v.Prop)({type:Object,required:!1})],D.prototype,"formInfo",void 0),Object(h.c)([Object(v.Prop)({type:Boolean,default:!0})],D.prototype,"withReachGoal",void 0),Object(h.c)([Object(v.Emit)("submit-form")],D.prototype,"emitFormIsSubmitted",null),Object(h.c)([Object(v.Emit)("focus")],D.prototype,"onFocus",null);var I=D=Object(h.c)([Object(v.Component)({components:{InputField:y.default,BaseButton:O.default,BaseImage:j.default,ShapeLongIcon:F.a,CircleLoader:x.default,Typograf:k.default,TypographyText:P.default,BaseIcon:w.default},fetch:function(){return Promise.all([this.fetchCallBackForm()])},storageItems:["links","callbackFormAgreementText"]})],D),$=r(9),component=Object($.a)(I,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["relative",{"text-white":"default"!==t.view,"bg-red-500 w-[784px] clip-path-red-contacts pt-15 px-26 pr-32 pb-[180px] 3xl:w-full xl:px-16 xl:pt-6 lg:p-10 lg:clip-path-none md:p-6":"red-shape"===t.view,"bg-yellow-700 bg-opacity-80 pt-18 pb-16 px-16 xl:p-10 md:p-6":"default"===t.view}]},["red-shape"===t.view?r("div",{staticClass:"absolute inset-0 origin-top-left bg-noise opacity-80"}):t._e(),t._v(" "),t.form.isGetFormPending?r("CircleLoader",{staticClass:"relative w-12 text-white"}):t._e(),t._v(" "),t.form.getFormError?r("div",{staticClass:"relative text-lg font-medium"},[t._v("\n        Упс, произошла ошибка при загрузке формы\n    ")]):t._e(),t._v(" "),t.form.data?r("div",{class:["relative flex lg:flex-wrap",{"flex-col w-full":"red-shape"===t.view||"simple"===t.view,"-mx-4":"default"===t.view}]},[r("div",{class:["flex-initial lg:w-full lg:mb-6",{"px-4":"default"===t.view,"mb-7":"simple"===t.view}]},[r("Typograf",{class:{"title-h2 mb-6 lg:mb-2":"default"===t.view,"title-h3 mb-1.5":"simple"===t.view,"title-h4 mb-1.5":"red-shape"===t.view},attrs:{html:t.formTitle}}),t._v(" "),t.formDescription?r("TypographyText",{class:{"text-lg":"default"===t.view},attrs:{content:t.formDescription,theme:"white_storage"}}):t._e()],1),t._v(" "),r("div",{class:["relative flex-auto box-content max-w-[800px] w-full lg:max-w-none",{"mx-4":"default"===t.view}]},[t.form.data.fields.length?[r("form",{class:["grid grid-cols-2",{"gap-4":"default"===t.view,"gap-6":"red-shape"===t.view||"simple"===t.view}],attrs:{novalidate:"",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submitCallBackForm(e)}}},[t._l(t.form.data.fields,(function(e,n){return r("InputField",{key:e.id,class:[0===n?"col-span-2":"col-span-1 md:col-span-2"],attrs:{value:t.formData[e.name],required:e.required,title:e.title,name:e.name,type:t.defineInputFieldType(e),mask:"phone"===e.validationType.code?"phone":"",error:t.formErrors[e.name],readonly:t.form.isSubmitFormPending,theme:t.inputFieldTheme,size:t.inputFieldSize,"input-listeners":{focus:t.onFocus.bind(this,e.code,e.name)}},on:{"update:value":function(r){return t.$set(t.formData,e.name,r)}}})})),t._v(" "),r("div",{class:["col-span-2 flex items-center -mx-2 sm:flex-wrap sm:mx-0",{"flex-col":"red-shape"===t.view}]},[r("div",{class:["flex-initial w-full box-content px-2 sm:px-0 sm:order-1",{"max-w-xs sm:max-w-none":"default"===t.view,"mb-6":"red-shape"===t.view}]},[r("div",{staticClass:"text-sm opacity-[0.64]"},[r("TypographyText",{attrs:{content:t.formAgreementText,theme:"default"!==t.view?"white_storage":"black_storage"}})],1)]),t._v(" "),r("div",{class:["flex-initial flex-shrink-0 box-content px-2 sm:w-full sm:ml-0 sm:px-0 sm:mb-4",{"ml-auto":"default"===t.view,"mr-8 xl:mr-0":"red-shape"===t.view}]},[r("BaseButton",{staticClass:"sm:w-full",attrs:{theme:"default"!==t.view?"light-red":"blue",type:"submit",loading:t.form.isSubmitFormPending},scopedSlots:t._u([{key:"append",fn:function(){return[r("BaseIcon",{staticClass:"opacity-40",attrs:{name:"arrow-right",width:"24",height:"12"}})]},proxy:!0}],null,!1,2365728491)},[t._v("\n                                "+t._s(t.submitButtonTitle)+"\n                                ")])],1)])],2)]:[t._v("\n                Заполните поля формы в административной панели!\n            ")]],2)]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CircleLoader:r(125).default,Typograf:r(123).default,TypographyText:r(311).default,BaseIcon:r(20).default,BaseButton:r(59).default})},353:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(5),o=r(8),c=r(11),l=function(){function t(){Object(n.a)(this,t)}return Object(o.a)(t,null,[{key:"fetchForm",value:function(code,t){return c.b.get("/api/forms/".concat(code),t)}},{key:"submitForm",value:function(code,data,t){return c.b.post("/api/forms/".concat(code),data,t)}}]),t}()},354:function(t,e,r){"use strict";r.d(e,"a",(function(){return j}));r(10);var n=r(26),o=r(5),c=r(8),l=r(6),f=r(7),m=r(4),d=(r(51),r(0)),h=r(1),v=r(343);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(m.a)(t);if(e){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var O=function(t){Object(l.a)(r,t);var e=y(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(c.a)(r,[{key:"autofillUserDataFields",value:function(t,e){}}]),r}(h.Vue);function j(t){var e=function(e){Object(l.a)(f,e);var r=y(f);function f(){return Object(o.a)(this,f),r.apply(this,arguments)}return Object(c.a)(f,[{key:"isAuth",get:function(){return this.$auth.loggedIn}},{key:"userData",get:function(){return this.$auth.user&&Object.assign({},this.$auth.user)}},{key:"autofillUserDataFields",value:function(e,r){if(this.isAuth&&["phone","email"].includes(e)&&this.userData&&this.userData[e]){var o=this.userData[e];this[t]=Object.assign(Object.assign({},this[t]),Object(n.a)({},r,"phone"!==e?o:Object(v.b)(o)))}}}]),f}(h.Vue);return e=Object(d.c)([h.Component],e)}O=Object(d.c)([h.Component],O)},374:function(t,e,r){r(37),r(41),r(30),r(52),r(53);var n=r(162),o=r(163);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}t.exports={functional:!0,render:function(t,e){var r=e._c,data=(e._v,e.data),l=e.children,f=void 0===l?[]:l,m=data.class,d=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,O=o(data,["class","staticClass","style","staticStyle","attrs"]);return r("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,d],style:[style,h],attrs:Object.assign({width:"1312",height:"351",viewBox:"0 0 1312 351",xmlns:"http://www.w3.org/2000/svg"},y)},O),f.concat([r("path",{attrs:{d:"M1312 6V0H0V6L172.5 350.5L350 266.5L1142.5 245L1312 6Z"}})]))}}}}]);