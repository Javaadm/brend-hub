(window.webpackJsonp=window.webpackJsonp||[]).push([[122,17],{307:function(t,e,r){"use strict";(function(t){r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o}));r(160),r(76),r(31),r(85),r(86);var n=function(image){return image?"string"==typeof image?image:image.file.url:""};function o(e,r){return e=(e=n(e))?e.match(/^https?:\/\//)?e:"local://"+e:"local://",["/_image","i",r,t.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")].join("/")}}).call(this,r(315).Buffer)},313:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(3);function o(t,e){if(t.isAxiosError&&t.response&&(t=t.response.data.error,e)){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.default.delete(e,i);if(t.request)for(var r in t.request)Object.prototype.hasOwnProperty.call(t.request,r)&&n.default.set(e,r,t.request[r])}t.message&&n.default.prototype.$layer.alert({title:"Ошибка",message:t.message})}},479:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(5),o=r(8),c=r(11),l=function(){function t(){Object(n.a)(this,t)}return Object(o.a)(t,null,[{key:"getPostsList",value:function(t){return Object(c.a)((function(){return c.b.get("/api/blogInforms",t)}))}},{key:"getPost",value:function(t,e){return Object(c.a)((function(){return c.b.get("/api/blogInforms/"+t,e)}))}}]),t}()},501:function(t,e,r){"use strict";r.r(e);r(10);var n=r(5),o=r(6),c=r(7),l=r(4),f=(r(122),r(0)),d=r(1),h=r(124),m=r(123);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var v=function(t){Object(o.a)(r,t);var e=y(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(d.Vue);Object(f.c)([Object(d.Prop)({type:[String,Number],required:!1})],v.prototype,"id",void 0),Object(f.c)([Object(d.Prop)({type:[String,Object],required:!1})],v.prototype,"to",void 0),Object(f.c)([Object(d.Prop)({type:String,required:!0})],v.prototype,"title",void 0),Object(f.c)([Object(d.Prop)({type:String,required:!1})],v.prototype,"description",void 0),Object(f.c)([Object(d.Prop)({type:String,required:!1})],v.prototype,"image",void 0),Object(f.c)([Object(d.Prop)({type:String,required:!1})],v.prototype,"imagePlaceholder",void 0);var j=v=Object(f.c)([Object(d.Component)({components:{Typograf:m.default,BaseImage:h.default}})],v),O=r(9),component=Object(O.a)(j,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"relative group"},[r("div",{staticClass:"relative overflow-hidden mb-4 md:mb-2  h-90 lg:h-60"},[r("div",{staticClass:"absolute inset-0 flex bg-gray-300 transform transition-main group-hover:scale-110"},[t.image?r("BaseImage",{staticClass:"flex-auto",attrs:{alt:t.title,src:t.image,placeholder:t.imagePlaceholder}}):t._e()],1),t._v(" "),r("div",{staticClass:"absolute inset-0 flex flex-col justify-between p-4 bg-black bg-opacity-40 opacity-0 text-white text-sm transition-fast group-hover:opacity-100"},[t.description?r("Typograf",{staticClass:"font-normal text-white pr-10",attrs:{html:t.description}}):t._e()],1)]),t._v(" "),r("div",{staticClass:"text-2xl inline-block font-medium lg:text-xl md:text-lg"},[t.to?r("NuxtLink",{staticClass:"after:absolute after:inset-0",attrs:{to:t.to}},[r("Typograf",{staticClass:"border-b border-black-160 pb-1 transition-fast group-hover:border-black lg:pb-px",attrs:{as:"span",html:t.title}})],1):r("Typograf",{staticClass:"border-b border-black-160 pb-1 transition-fast group-hover:border-black lg:pb-px",attrs:{as:"span",html:t.title}})],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseImage:r(124).default,Typograf:r(123).default})},642:function(t,e,r){"use strict";r.r(e);r(10);var n=r(28),o=r(5),c=r(8),l=r(6),f=r(7),d=r(4),h=(r(36),r(40),r(47),r(31),r(48),r(0)),m=r(1),y=r(123),v=r(125),j=r(501),O=r(479),P=r(24),C=r(313),x=r(307);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}function w(t){return{id:t.slug,to:{name:"blog-post",params:{post:t.slug}},title:t.title,description:t.shortDescription,image:Object(x.a)(t.image,"rs:fit:500:500/format:jpg"),imagePlaceholder:Object(x.a)(t.image,"rs:fit:500:500/format:jpg/preset:placeholder")}}var _=function(t){Object(l.a)(r,t);var e=k(r);function r(){var t;return Object(o.a)(this,r),(t=e.apply(this,arguments)).posts=null,t.isPostsPending=!1,t}return Object(c.a)(r,[{key:"page",get:function(){return P.pageStore.data}},{key:"pageTitle",get:function(){var t;return(null===(t=this.page)||void 0===t?void 0:t.title)||"Блог"}},{key:"pageQuery",get:function(){return this.$route.query}},{key:"postsListQuery",get:function(){return{page:this.pageQuery.page||1,limit:0}}},{key:"isPostsEmpty",get:function(){var t;return!(null===(t=this.posts)||void 0===t?void 0:t.items.length)}},{key:"postsListNormalized",get:function(){return this.posts?this.posts.items.map(w):null}},{key:"fetchPosts",value:function(){return Object(h.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isPostsPending=!0,t.next=3,O.a.getPostsList({params:this.postsListQuery});case 3:e=t.sent,r=Object(n.a)(e,2),o=r[0],c=r[1],this.posts=o,this.isPostsPending=!1,c&&Object(C.a)(c);case 10:case"end":return t.stop()}}),t,this)})))}}]),r}(m.Vue),R=_=Object(h.c)([Object(m.Component)({components:{Typograf:y.default,CircleLoader:v.default,ArticleCard:j.default},fetch:function(){return Promise.all([this.fetchPosts()])},head:function(){return{link:[{rel:"canonical",href:P.pageStore.pageHost?"".concat(P.pageStore.pageHost).concat(this.$route.path):this.$route.path}]}}})],_),L=r(9),component=Object(L.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"relative"},[r("div",{staticClass:"container py-14"},[r("Typograf",{staticClass:"title-h2  mb-14 lg:mb-10",attrs:{as:"h1",html:t.pageTitle}}),t._v(" "),t.isPostsEmpty&&t.isPostsPending?r("div",{staticClass:"text-center"},[r("CircleLoader",{staticClass:"w-20 text-blue-700"})],1):t.isPostsEmpty?r("div",{},[t._v("\n            Как-то пусто тут…\n        ")]):t.postsListNormalized?r("div",{},[r("div",{staticClass:"grid grid-cols-12 gap-x-8 gap-y-11 xl:gap-4 lg:gap-y-8 md:gap-y-6"},t._l(t.postsListNormalized,(function(e){return r("ArticleCard",t._b({key:e.id,staticClass:"col-span-4 lg:col-span-6 md:col-span-12"},"ArticleCard",e,!1))})),1)]):t._e()],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Typograf:r(123).default,CircleLoader:r(125).default,ArticleCard:r(501).default})}}]);